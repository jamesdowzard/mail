{
  "project": "mail",
  "created_at": "2025-12-26T09:30:00Z",
  "updated_at": "2025-12-26T11:30:00Z",
  "phase": "implementation",
  "features": [
    {
      "id": "docker-config",
      "name": "Docker Configuration",
      "description": "Stalwart docker-compose running on Pi at ~/stalwart/",
      "status": "complete",
      "priority": 1,
      "dependencies": [],
      "files": ["docker/docker-compose.yml", "docker/.env.example"],
      "notes": "Running at 192.168.0.58:8093 with user james@dowzard.family"
    },
    {
      "id": "dns-records",
      "name": "DNS Records Setup",
      "description": "MX, SPF, DMARC configured in Cloudflare for dowzard.family",
      "status": "complete",
      "priority": 2,
      "dependencies": ["docker-config"],
      "files": ["dns/records.md"],
      "notes": "MX→mail.dowzard.family, A→49.176.51.236, SPF includes amazonses.com"
    },
    {
      "id": "ssl-certs",
      "name": "SSL Certificates",
      "description": "Set up Let's Encrypt certificates for mail.dowzard.family",
      "status": "pending",
      "priority": 3,
      "dependencies": ["dns-records"],
      "files": ["scripts/renew-certs.sh"]
    },
    {
      "id": "port-forwarding",
      "name": "Port Forwarding",
      "description": "DMZ rule on router forwards all ports to Pi (192.168.0.58)",
      "status": "complete",
      "priority": 4,
      "dependencies": [],
      "files": ["docs/port-forwarding.md"],
      "notes": "DMZ configured. ISP likely blocks port 25 inbound. Use Cloudflare Email Routing for receiving."
    },
    {
      "id": "sending-config",
      "name": "Outbound Email Setup",
      "description": "AWS SES configured - domain verified, DKIM active, SMTP credentials ready",
      "status": "in_progress",
      "priority": 5,
      "dependencies": ["dns-records"],
      "files": ["docs/ses-setup.md"],
      "notes": "SES domain verified & DKIM active. Credentials in ~/.credentials/stalwart.env. TODO: Configure Stalwart relay at Settings > SMTP > Outbound > Routing - add relay host ses-relay with SES credentials."
    },
    {
      "id": "spam-filtering",
      "name": "Spam Filtering",
      "description": "Configure Stalwart spam filtering rules and blocklists",
      "status": "pending",
      "priority": 6,
      "dependencies": ["docker-config"],
      "files": ["docker/spam-rules.toml", "scripts/update-blocklists.sh"]
    },
    {
      "id": "brain-client",
      "name": "Brain Integration",
      "description": "Python client for Brain to read/send email via IMAP/SMTP",
      "status": "pending",
      "priority": 7,
      "dependencies": ["docker-config"],
      "files": ["brain/client.py", "brain/README.md"]
    },
    {
      "id": "monitoring",
      "name": "Monitoring & Alerts",
      "description": "ntfy alerts for mail server health, queue size, failed deliveries",
      "status": "pending",
      "priority": 8,
      "dependencies": ["docker-config"],
      "files": ["scripts/monitor-mail.sh", "docker/healthcheck.sh"]
    },
    {
      "id": "backup",
      "name": "Backup System",
      "description": "Automated backup of Stalwart data to S3",
      "status": "pending",
      "priority": 9,
      "dependencies": ["docker-config"],
      "files": ["scripts/backup-mail.sh", "docs/restore.md"]
    }
  ]
}
