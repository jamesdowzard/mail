{
  "project": "mail",
  "created_at": "2025-12-26T09:30:00Z",
  "updated_at": "2025-12-26T09:30:00Z",
  "phase": "planning",
  "features": [
    {
      "id": "docker-config",
      "name": "Docker Configuration",
      "description": "Migrate Stalwart docker-compose to repo with proper config, volumes, and environment",
      "status": "pending",
      "priority": 1,
      "dependencies": [],
      "files": ["docker/docker-compose.yml", "docker/stalwart.toml", "docker/.env.example"]
    },
    {
      "id": "dns-records",
      "name": "DNS Records Setup",
      "description": "Configure Cloudflare DNS: MX record, SPF, DKIM, DMARC for dowzard.family",
      "status": "pending",
      "priority": 2,
      "dependencies": ["docker-config"],
      "files": ["dns/records.md", "dns/setup-dns.sh"]
    },
    {
      "id": "ssl-certs",
      "name": "SSL Certificates",
      "description": "Set up Let's Encrypt certificates for mail.dowzard.family",
      "status": "pending",
      "priority": 3,
      "dependencies": ["dns-records"],
      "files": ["docker/certbot-config.yml", "scripts/renew-certs.sh"]
    },
    {
      "id": "port-forwarding",
      "name": "Port Forwarding",
      "description": "Document and configure router port forwarding for SMTP/IMAP ports",
      "status": "pending",
      "priority": 4,
      "dependencies": ["ssl-certs"],
      "files": ["docs/port-forwarding.md"]
    },
    {
      "id": "sending-config",
      "name": "Outbound Email Setup",
      "description": "Configure direct sending or SMTP relay (Mailgun/SES) for deliverability",
      "status": "pending",
      "priority": 5,
      "dependencies": ["dns-records"],
      "files": ["docker/relay-config.toml", "docs/sending-setup.md"]
    },
    {
      "id": "spam-filtering",
      "name": "Spam Filtering",
      "description": "Configure Stalwart spam filtering rules and blocklists",
      "status": "pending",
      "priority": 6,
      "dependencies": ["docker-config"],
      "files": ["docker/spam-rules.toml", "scripts/update-blocklists.sh"]
    },
    {
      "id": "brain-client",
      "name": "Brain Integration",
      "description": "Python client for Brain to read/send email via IMAP/SMTP",
      "status": "pending",
      "priority": 7,
      "dependencies": ["docker-config"],
      "files": ["brain/client.py", "brain/README.md"]
    },
    {
      "id": "monitoring",
      "name": "Monitoring & Alerts",
      "description": "ntfy alerts for mail server health, queue size, failed deliveries",
      "status": "pending",
      "priority": 8,
      "dependencies": ["docker-config"],
      "files": ["scripts/monitor-mail.sh", "docker/healthcheck.sh"]
    },
    {
      "id": "backup",
      "name": "Backup System",
      "description": "Automated backup of Stalwart data to S3",
      "status": "pending",
      "priority": 9,
      "dependencies": ["docker-config"],
      "files": ["scripts/backup-mail.sh", "docs/restore.md"]
    }
  ]
}
